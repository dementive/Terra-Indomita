build_siege_engines = {

	duration = -1
	enable = no
	toggle = yes
	army_only = yes
	soundeffect = "event:/SFX/UI/Unit/sfx_ui_unit_build_road"
	map = yes
	

	allow = {
		unit_owner = {
			invention = assault_ability_inv
		}
		is_army = yes
		unit_size >= 10
		in_siege = yes
		is_moving = no
		is_exiled = no
		any_sub_unit = {
			sub_unit_type = engineer_cohort
		}
		
		scope:province = { #not unit_location since AI needs to be able to reason about this 
			trigger_if = {
				limit = {
					exists = owner
				}
				OR = {
					has_owner = no
					owner = root.unit_owner
					owner = {
						is_subject_of = root.unit_owner
					}
				}
			}
			trigger_else = {
				custom_tooltip = {
					text = road_building_invalid_province_tt
					always = no
				}
			}
		}
		trigger_if = {
			limit = {
				exists = commander
			}
			commander = {
				loyalty > 33
			}
		}
	}
	modifier = {
		siege_ability = 0.1
		army_maintenance_cost = 1
		land_morale_modifier = -0.25
		siege_engineers = 1
	}
	
	
	ai_will_do = {
	}
	
	ai_will_revoke = {
}